<!DOCTYPE html>
<html>
<head>
  <title>{% block title %}Student{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='output.css') }}">
</head>

<body class="bg-gray-100 min-h-screen">

<!-- Navbar -->
<nav class="bg-blue-600 text-white px-6 py-4 flex justify-between items-center shadow-md">
  <div class="flex items-center space-x-3">
    <span class="text-xl font-bold tracking-wide">
      Hostel Ease
    </span>
  </div>

  <div class="flex items-center space-x-6">
    <a href="/student/dashboard"
       class="hover:underline hover:text-gray-200 transition">
      Dashboard
    </a>

    <a href="/student/outpass"
       class="hover:underline hover:text-gray-200 transition">
      My Outpass
    </a>
    <a href="/student/complaint/new" class="hover:underline">New Complaint</a>
    <a href="/student/complaints" class="hover:underline">My Complaints</a>
    <a href="/student/notifications" class="relative hover:underline">
  ðŸ”” Notifications

  {% if unread_count and unread_count > 0 %}
  <span class="absolute -top-2 -right-3 bg-red-500 text-white text-xs
               px-2 py-0.5 rounded-full animate-pulse">
    {{ unread_count }}
  </span>
  {% endif %}
</a>


    <a href="/logout"
       class="bg-red-500 px-4 py-2 rounded
              hover:bg-red-600 hover:scale-75 
              transition-all duration-300">
      Logout
    </a>
  </div>
</nav>
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="fixed top-20 right-6 space-y-3 z-50">
      {% for category, message in messages %}
        <div class="px-6 py-3 rounded-lg shadow-lg text-white
          {% if category == 'success' %}
            bg-green-500
          {% elif category == 'error' %}
            bg-red-500
          {% else %}
            bg-blue-500
          {% endif %}
          animate-fade-in">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<!-- Page Content -->
<div class="max-w-6xl mx-auto mt-10 px-4">
  {% block content %}{% endblock %}
</div>
<script>
  setTimeout(() => {
    document.querySelectorAll('.fixed').forEach(el => el.remove());
  }, 3000);
</script>

</body>
</html>
