{% extends "admin_base.html" %}

{% block title %}Outpass Requests{% endblock %}

{% block content %}

<h2 class="text-2xl font-bold mb-6 text-center">
  Pending Outpass Requests
</h2>

<div class="bg-white rounded-xl shadow overflow-x-auto">

<table class="w-full border-collapse">
  <thead class="bg-gray-200">
    <tr>
      <th class="p-3 border">Outpass ID</th>
      <th class="p-3 border">Student</th>
      <th class="p-3 border">From</th>
      <th class="p-3 border">To</th>
      <th class="p-3 border">Reason</th>
      <th class="p-3 border">Action</th>
    </tr>
  </thead>

  <tbody>
    {% for r in requests %}
    <tr class="text-center hover:bg-gray-50 transition">

      <td class="p-3 border">{{ r.outpass_id }}</td>
      <td class="p-3 border">{{ r.username }}</td>
      <td class="p-3 border">{{ r.from_date }}</td>
      <td class="p-3 border">{{ r.to_date }}</td>
      <td class="p-3 border">{{ r.reason }}</td>

      <td class="p-3 border space-x-2">
        <form method="post"
              action="/admin/outpass/{{ r.outpass_id }}/approve"
              class="inline">
          <button class="bg-green-500 text-white px-4 py-1 rounded
                         hover:bg-green-600 transition">
            Approve
          </button>
        </form>

        <form method="post"
              action="/admin/outpass/{{ r.outpass_id }}/reject"
              class="inline">
          <button class="bg-red-500 text-white px-4 py-1 rounded
                         hover:bg-red-600 transition">
            Reject
          </button>
        </form>
      </td>

    </tr>
    {% else %}
    <tr>
      <td colspan="6" class="p-6 text-center text-gray-500">
        No pending requests
      </td>
    </tr>
    {% endfor %}
  </tbody>

</table>

</div>

{% endblock %}
